{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./components/editor/paragraph/paragraph.css?a270","webpack:///./components/editor/add_button/addButton.css?e200","webpack:///./routes/home/style.css?acbe","webpack:///external \"preact\"","webpack:///./components/card/card.css?78a1","webpack:///../src/index.js","webpack:///./components/button/button.tsx","webpack:///./components/editor/add_button/addBoxIcon.tsx","webpack:///./components/editor/editorState.ts","webpack:///./components/editor/add_button/addButton.tsx","webpack:///./components/sortable_card/sortableCard.tsx","webpack:///./components/editor/paragraph/deleteIcon.tsx","webpack:///./components/editor/paragraph/reorderIcon.tsx","webpack:///./components/editor/paragraph/paragraph.tsx","webpack:///./components/editor/preview/preview.tsx","webpack:///./components/editor/editor.tsx","webpack:///./routes/home/index.tsx","webpack:///./routes/notfound/index.tsx","webpack:///./components/header/previewIcon.tsx","webpack:///./components/header/sortIcon.tsx","webpack:///./components/header/index.tsx","webpack:///./components/app.tsx","webpack:///./index.js","webpack:///./components/button/button.css?e5db","webpack:///../src/util.js","webpack:///./routes/notfound/style.css?727d","webpack:///./components/editor/editor.css?142e","webpack:///../node_modules/preact-router/match.js","webpack:///./components/styles/japanese.css?76b6","webpack:///./components/header/style.css?b3e9","webpack:///./components/editor/preview/preview.css?cc68"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","currentIndex","currentComponent","prevRaf","currentHook","afterPaintEffects","oldBeforeRender","options","oldAfterDiff","diffed","oldCommit","oldBeforeUnmount","unmount","getHookState","index","type","hooks","length","push","useReducer","reducer","initialState","init","hookState","_reducer","invokeOrReturn","nextValue","action","setState","useEffect","callback","args","state","argsChanged","useRef","initialValue","useMemo","current","factory","useCallback","useContext","context","provider","sub","props","flushAfterPaintEffects","forEach","component","invokeCleanup","invokeEffect","e","vnode","requestAnimationFrame","raf","done","clearTimeout","timeout","HAS_RAF","cancelAnimationFrame","setTimeout","commitQueue","some","filter","cb","hook","oldArgs","newArgs","arg","f","Button","className","style","btn","onClick","children","AddBoxIcon","xmlns","height","viewBox","width","createParagraph","text","id","String","Date","now","updateParagraphText","deleteParagraph","startMoving","moveParagraph","from","to","endMove","editorReducer","paragraphs","list","lastAdded","splice","indexOf","draggingIndex","isSorting","showsPreview","initParagraph","ver","EditorContext","createContext","dispatch","AddButton","buttonStyle","DragContext","data","SortableCard","ref","dragContext","onDragStart","dataTransfer","Error","dropEffect","effectAllowed","onMovieStart","onDragEnd","onMoveEnd","onDrag","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","clientX","clientY","onMove","draggable","onDragOver","DeleteIcon","ReorderIcon","Paragraph","console","log","bindDispatch","fn","ParagraphPresenter","isDragging","focus","onChange","onDelete","onMoveStart","currentTarget","preventDefault","textArea","cardStyle","card","pStyle","paragraph","data-is-editing","data-is-dragging","move","textarea","onKeyUp","count","delete","Preview","map","lines","split","reduce","acc","jpStyle","preview","Editor","editor","Home","home","Notfound","href","PreviewIcon","enableBackground","SortIcon","Header","onToggleSort","onTogglePreview","header","App","currentUrl","handleRoute","url","undefined","JSON","parse","window","localStorage","getItem","loadEditorState","setItem","stringify","saveEditorState","contextValue","Provider","path","default","EMPTY","assign","obj","let","exec","route","opts","ret","reg","match","matches","decodeURIComponent","slice","join","segmentize","replace","max","Math","charAt","param","flags","plus","star","val","pathRankSort","a","b","rank","prepareVNodeForRanking","rankSegment","rankChild","segment","customHistory","ROUTERS","subscribers","getCurrentUrl","location","getCurrentLocation","pathname","search","canRoute","history","setUrl","routeTo","didRoute","routeFromLink","node","getAttribute","target","handleLinkClick","ctrlKey","metaKey","altKey","shiftKey","button","this","prevent","stopImmediatePropagation","stopPropagation","delegateLinkHandler","nodeName","toUpperCase","hasAttribute","parentNode","eventListenersInitialized","Router","super","addEventListener","shouldComponentUpdate","static","const","getMatchingChildren","updating","forceUpdate","componentWillMount","componentDidMount","unlisten","listen","componentWillUnmount","componentWillUpdate","componentDidUpdate","invoke","sort","newProps","Boolean","render","active","previous","previousUrl","router","Link","Route","Match","_extends","arguments","source","_preact","_preactRouter","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_Component","_temp","_this","_len","Array","_key","apply","concat","update","nextUrl","subClass","superClass","constructor","writable","configurable","setPrototypeOf","__proto__","_inherits","Component","_ref","activeClassName","keys","_objectWithoutProperties","h","_ref2","class"],"mappings":"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","file":"ssr-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"QfWi\");\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paragraph\":\"paragraph__3XZVW\",\"textarea\":\"textarea__lochO\",\"count\":\"count__1uRWR\",\"edit-form\":\"edit-form__1rRzC\",\"delete\":\"delete__3Sp8N\",\"move\":\"move__3cboQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"add-button\":\"add-button__1KgZw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"home__5d1wS\"};","module.exports = require(\"preact\");","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"card__3mJh1\"};","import { cloneElement, createElement, Component, toChildArray } from 'preact';\nimport { exec, prepareVNodeForRanking, assign, pathRankSort } from './util';\n\nlet customHistory = null;\n\nconst ROUTERS = [];\n\nconst subscribers = [];\n\nconst EMPTY = {};\n\nfunction setUrl(url, type='push') {\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tlet url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn `${url.pathname || ''}${url.search || ''}`;\n}\n\n\n\nfunction route(url, replace=false) {\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (let i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) return true;\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tlet didRoute = false;\n\tfor (let i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (let i=subscribers.length; i--; ) {\n\t\tsubscribers[i](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) return;\n\n\tlet href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) return;\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\trouteFromLink(e.currentTarget || e.target || this);\n\treturn prevent(e);\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) e.stopImmediatePropagation();\n\t\tif (e.stopPropagation) e.stopPropagation();\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\n\tlet t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href')) {\n\t\t\tif (t.hasAttribute('native')) return;\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nlet eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) return;\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', () => {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nclass Router extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tshouldComponentUpdate(props) {\n\t\tif (props.static!==true) return true;\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t}\n\n\t/** Check if the given URL can be matched against any children */\n\tcanRoute(url) {\n\t\tconst children = toChildArray(this.props.children);\n\t\treturn this.getMatchingChildren(children, url, false).length > 0;\n\t}\n\n\t/** Re-render children with a new URL to match against. */\n\trouteTo(url) {\n\t\tthis.setState({ url });\n\n\t\tconst didRoute = this.canRoute(url);\n\n\t\t// trigger a manual re-route if we're not in the middle of an update:\n\t\tif (!this.updating) this.forceUpdate();\n\n\t\treturn didRoute;\n\t}\n\n\tcomponentWillMount() {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidMount() {\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen((location) => {\n\t\t\t\tthis.routeTo(`${location.pathname || ''}${location.search || ''}`);\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (typeof this.unlisten==='function') this.unlisten();\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t}\n\n\tcomponentWillUpdate() {\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updating = false;\n\t}\n\n\tgetMatchingChildren(children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( vnode => {\n\t\t\t\tlet matches = exec(url, vnode.props.path, vnode.props);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tlet newProps = { url, matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t}\n\n\trender({ children, onChange }, { url }) {\n\t\tlet active = this.getMatchingChildren(toChildArray(children), url, true);\n\n\t\tlet current = active[0] || null;\n\n\t\tlet previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl,\n\t\t\t\t\tprevious,\n\t\t\t\t\tactive,\n\t\t\t\t\tcurrent\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t}\n}\n\nconst Link = (props) => (\n\tcreateElement('a', assign({ onClick: handleLinkClick }, props))\n);\n\nconst Route = props => createElement(props.component, props);\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\nRouter.exec = exec;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link, exec };\nexport default Router;\n","import { ComponentChildren, h } from \"preact\";\nimport style from \"./button.css\";\n\nexport interface ButtonProps {\n  className?: string;\n  type?: \"primary\";\n  onClick?: (e: MouseEvent) => void;\n  children?: ComponentChildren;\n}\n\nexport function Button(props: ButtonProps) {\n  let className = `${style.btn} ${props.className}`;\n  if (props.type === \"primary\") {\n    className += ` ${style[\"btn-primary\"]}`;\n  }\n  return (\n    <button onClick={props.onClick} className={className}>\n      {props.children}\n    </button>\n  );\n}\n","import { h } from \"preact\";\n\nexport function AddBoxIcon(props: { className?: string }) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n      {...props}\n    >\n      <path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\" />\n    </svg>\n  );\n}\n","import { createContext } from \"preact\";\n\nexport type Paragraph = {\n  id: string;\n  text: string;\n};\n\nexport type EditorState = {\n  ver: number;\n  paragraphs: Record<string, Paragraph>;\n  list: string[];\n  draggingIndex: number | null;\n  lastAdded: number;\n  isSorting: boolean;\n  showsPreview: boolean;\n};\n\nfunction createParagraph(text = \"\"): Paragraph {\n  const id = String(Date.now());\n  return {\n    id,\n    text,\n  };\n}\nexport function updateParagraphText(text: string, id: string) {\n  return { type: \"UPDATE_PARAGRAPH\" as const, id, text };\n}\n\nexport function addParagraph() {\n  return { type: \"ADD_PARAGRAPH\" as const };\n}\n\nexport function deleteParagraph(id: string) {\n  return { type: \"DELETE_PARAGRAPH\" as const, id };\n}\n\nexport function startMoving(index: number) {\n  return { type: \"MOVE_START\" as const, index };\n}\nexport function moveParagraph(from: number, to: number) {\n  return { type: \"MOVE_PARAGRAPH\" as const, from, to };\n}\nexport function endMove() {\n  return { type: \"END_MOVE\" as const };\n}\n\nexport function toggleSort() {\n  return { type: \"TOGGLE_SORT\" as const };\n}\n\nexport function togglePreview() {\n  return { type: \"TOGGLE_PREVIEW\" as const };\n}\n\nexport type EditorAction = ReturnType<\n  | typeof updateParagraphText\n  | typeof addParagraph\n  | typeof deleteParagraph\n  | typeof startMoving\n  | typeof moveParagraph\n  | typeof endMove\n  | typeof toggleSort\n  | typeof togglePreview\n>;\n\nexport function editorReducer(\n  state: EditorState,\n  action: EditorAction\n): EditorState {\n  switch (action.type) {\n    case \"UPDATE_PARAGRAPH\": {\n      return {\n        ...state,\n        paragraphs: {\n          ...state.paragraphs,\n          [action.id]: {\n            ...state.paragraphs[action.id],\n            text: action.text,\n          },\n        },\n      };\n    }\n    case \"ADD_PARAGRAPH\": {\n      const p = createParagraph();\n      return {\n        ...state,\n        paragraphs: {\n          ...state.paragraphs,\n          [p.id]: p,\n        },\n        list: [...state.list, p.id],\n        lastAdded: state.list.length,\n      };\n    }\n    case \"DELETE_PARAGRAPH\": {\n      const paragraphs = state.paragraphs;\n      delete paragraphs[action.id];\n      state.list.splice(state.list.indexOf(action.id), 1);\n      return {\n        ...state,\n        paragraphs: { ...paragraphs },\n        list: [...state.list],\n      };\n    }\n    case \"MOVE_START\": {\n      return {\n        ...state,\n        draggingIndex: action.index,\n      };\n    }\n    case \"MOVE_PARAGRAPH\": {\n      const from = state.list[action.from];\n      const to = state.list[action.to];\n      state.list[action.from] = to;\n      state.list[action.to] = from;\n      return {\n        ...state,\n        list: [...state.list],\n        draggingIndex: action.to,\n      };\n    }\n    case \"END_MOVE\": {\n      return {\n        ...state,\n        draggingIndex: null,\n      };\n    }\n    case \"TOGGLE_SORT\": {\n      return {\n        ...state,\n        isSorting: !state.isSorting,\n      };\n    }\n    case \"TOGGLE_PREVIEW\": {\n      return {\n        ...state,\n        showsPreview: !state.showsPreview,\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nconst initParagraph = createParagraph(\"\");\nexport const initialState: EditorState = {\n  ver: 1,\n  paragraphs: {\n    [initParagraph.id]: initParagraph,\n  },\n  list: [initParagraph.id],\n  draggingIndex: null,\n  lastAdded: 0,\n  isSorting: false,\n  showsPreview: false,\n};\n\nconst SAVE_KEY = \"save_data\";\nexport function saveEditorState(state: EditorState) {\n  try {\n    window.localStorage.setItem(SAVE_KEY, JSON.stringify(state));\n  } catch {\n    // nothing to do\n  }\n}\n\nexport function loadEditorState(): EditorState {\n  try {\n    const state: EditorState = JSON.parse(\n      window.localStorage.getItem(SAVE_KEY) ?? \"\"\n    );\n    return {\n      ...state,\n      isSorting: false,\n      draggingIndex: null,\n    };\n  } catch {\n    return initialState;\n  }\n}\n\nexport const EditorContext = createContext<{\n  state: EditorState;\n  dispatch: (action: EditorAction) => void;\n}>({ state: initialState, dispatch: () => void 0 });\n","import { h } from \"preact\";\nimport { Button } from \"../../button/button\";\nimport { AddBoxIcon } from \"./addBoxIcon\";\nimport style from \"./addButton.css\";\nimport buttonStyle from \"../../button/button.css\";\nimport { useCallback, useContext } from \"preact/hooks\";\nimport { addParagraph, EditorContext } from \"../editorState\";\n\nexport function AddButton() {\n  const { dispatch } = useContext(EditorContext);\n  const onClick = useCallback(() => {\n    dispatch(addParagraph());\n  }, []);\n  return (\n    <Button className={style[\"add-button\"]} type=\"primary\" onClick={onClick}>\n      <AddBoxIcon className={buttonStyle[\"btn-icon\"]} /> <span>追加する</span>\n    </Button>\n  );\n}\n","import { ComponentChildren, createContext, h } from \"preact\";\nimport { useCallback, useContext, useRef } from \"preact/hooks\";\n\ninterface SortableCardProps {\n  index: number;\n  onMovieStart?: (index: number) => void;\n  onMove?: (dragIndex: number, dropIndex: number) => void;\n  onMoveEnd?: () => void;\n  className?: string;\n  children?: ComponentChildren;\n}\n\ntype DragInfo = {\n  data: {\n    index: number;\n  } | null;\n};\nconst DragContext = createContext<DragInfo>({ data: null });\n\nexport function SortableCard(props: SortableCardProps) {\n  const ref = useRef<HTMLDivElement | null>(null);\n  //const [isDragging, setDraggingState] = useState(false);\n  const dragContext = useContext(DragContext);\n  const onDragStart = useCallback(\n    (e: DragEvent) => {\n      const dataTransfer = e.dataTransfer;\n      if (!dataTransfer) {\n        throw new Error();\n      }\n      dataTransfer.dropEffect = \"move\";\n      dataTransfer.effectAllowed = \"move\";\n      dragContext.data = { index: props.index };\n      props.onMovieStart?.(props.index);\n    },\n    [props.index]\n  );\n  const onDragEnd = useCallback(() => {\n    props.onMoveEnd?.();\n  }, [props.onMoveEnd]);\n  const onDrag = useCallback(\n    (e: DragEvent) => {\n      if (!ref.current || !e.dataTransfer) {\n        return;\n      }\n      if (!dragContext.data) {\n        return;\n      }\n      const dragIndex = dragContext.data.index;\n      const hoverIndex = props.index;\n      // Don't replace items with themselves\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n      // Determine rectangle on screen\n      const hoverBoundingRect = ref.current?.getBoundingClientRect();\n      // Get vertical middle\n      const hoverMiddleY =\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n      // Determine mouse position\n      const clientOffset = { x: e.clientX, y: e.clientY };\n      // Get pixels to the top\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n      // Only perform the move when the mouse has crossed half of the items height\n      // When dragging downwards, only move when the cursor is below 50%\n      // When dragging upwards, only move when the cursor is above 50%\n      // Dragging downwards\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n        return;\n      }\n      // Dragging upwards\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n        return;\n      }\n      // Time to actually perform the action\n      props.onMove?.(dragIndex, hoverIndex);\n      // Note: we're mutating the monitor item here!\n      // Generally it's better to avoid mutations,\n      // but it's good here for the sake of performance\n      // to avoid expensive index searches.\n      dragContext.data.index = hoverIndex;\n    },\n    [props.index]\n  );\n  return (\n    <div\n      ref={ref}\n      className={props.className}\n      draggable\n      onDragStart={onDragStart}\n      onDragOver={onDrag}\n      onDragEnd={onDragEnd}\n    >\n      {props.children}\n    </div>\n  );\n}\n","import { h } from \"preact\";\n\nexport function DeleteIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n    >\n      <path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\" />\n    </svg>\n  );\n}\n","import { h } from \"preact\";\n\nexport function ReorderIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n    >\n      <path d=\"M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z\" />\n    </svg>\n  );\n}\n","import { h } from \"preact\";\nimport { useCallback, useContext, useEffect, useRef } from \"preact/hooks\";\nimport { SortableCard } from \"../../sortable_card/sortableCard\";\nimport { DeleteIcon } from \"./deleteIcon\";\nimport pStyle from \"./paragraph.css\";\nimport cardStyle from \"../../card/card.css\";\nimport { ReorderIcon } from \"./reorderIcon\";\nimport {\n  deleteParagraph,\n  EditorAction,\n  EditorContext,\n  endMove,\n  moveParagraph,\n  startMoving,\n  updateParagraphText,\n} from \"../editorState\";\n\ninterface ParagraphProps {\n  id: string;\n  index: number;\n}\n\nexport function Paragraph(props: ParagraphProps) {\n  const { state, dispatch } = useContext(EditorContext);\n  const p = state.paragraphs[props.id];\n  if (!p) {\n    return null;\n  }\n  console.log(`${props.index}:${state.lastAdded}`);\n  const bindDispatch = useCallback(function <\n    A extends unknown[],\n    B extends EditorAction\n  >(fn: (...args: A) => B) {\n    return useCallback((...args: A) => {\n      dispatch(fn(...args));\n    }, []);\n  },\n  []);\n  return (\n    <ParagraphPresenter\n      id={props.id}\n      index={props.index}\n      text={p.text}\n      isSorting={state.isSorting}\n      isDragging={state.draggingIndex === props.index}\n      focus={props.index === state.lastAdded}\n      onChange={bindDispatch(updateParagraphText)}\n      onDelete={bindDispatch(deleteParagraph)}\n      onMoveStart={bindDispatch(startMoving)}\n      onMove={bindDispatch(moveParagraph)}\n      onMoveEnd={bindDispatch(endMove)}\n    />\n  );\n}\n\ninterface ParagraphPresenterProps {\n  id: string;\n  index: number;\n  text: string;\n  isSorting: boolean;\n  isDragging: boolean;\n  focus: boolean;\n  onChange?(text: string, id: string): void;\n  onDelete?(id: string): void;\n  onMoveStart?(index: number): void;\n  onMove?(dragIndex: number, hoverIndex: number): void;\n  onMoveEnd?(): void;\n}\n\nexport function ParagraphPresenter(props: ParagraphPresenterProps) {\n  const onChange = useCallback(\n    (e: Event) => {\n      props.onChange?.((e.currentTarget as HTMLInputElement).value, props.id);\n    },\n    [props.onChange, props.id]\n  );\n  const onDelete = useCallback(\n    (e: Event) => {\n      e.preventDefault();\n      props.onDelete?.(props.id);\n    },\n    [props.id]\n  );\n  const textArea = useRef<HTMLTextAreaElement | null>(null);\n  useEffect(() => {\n    if (props.focus) {\n      textArea.current?.focus();\n    }\n  }, [props.focus]);\n  return (\n    <li\n      className={`${cardStyle.card} ${pStyle.paragraph}`}\n      data-is-editing={props.isSorting ? \"true\" : \"false\"}\n      data-is-dragging={props.isDragging ? \"true\" : \"false\"}\n    >\n      <SortableCard\n        index={props.index}\n        className={`${pStyle.move} ${pStyle[\"edit-form\"]}`}\n        onMovieStart={props.onMoveStart}\n        onMove={props.onMove}\n        onMoveEnd={props.onMoveEnd}\n      >\n        <ReorderIcon />\n      </SortableCard>\n      <div className={pStyle.textarea}>\n        <textarea ref={textArea} value={props.text} onKeyUp={onChange} />\n        <div className={pStyle.count}>\n          <span>{props.text.length}</span>\n        </div>\n      </div>\n      <div className={`${pStyle.delete} ${pStyle[\"edit-form\"]}`}>\n        <button onClick={onDelete}>\n          <DeleteIcon />\n        </button>\n      </div>\n    </li>\n  );\n}\n","import { h } from \"preact\";\nimport { useMemo } from \"preact/hooks\";\nimport { Paragraph } from \"../editorState\";\nimport style from \"./preview.css\";\nimport cardStyle from \"../../card/card.css\";\nimport jpStyle from \"../../styles/japanese.css\";\nimport { JSXInternal } from \"preact/src/jsx\";\n\nexport type PreviewProps = {\n  list: string[];\n  paragraph: Record<string, Paragraph>;\n};\n\nexport default function Preview(props: PreviewProps) {\n  const text = useMemo(() => {\n    return props.list.map((id) => {\n      const lines = (props.paragraph[id]?.text ?? \"\").split(\"\\n\");\n      const text = lines.reduce<(JSXInternal.Element | string)[]>(\n        (acc, text, i) => {\n          if (i === lines.length - 1) {\n            return [...acc, text];\n          } else {\n            return [...acc, text, <br key={`br-${i}`} />];\n          }\n        },\n        []\n      );\n      return (\n        <p\n          className={`${jpStyle[\"japanese-text\"]}`}\n          key={`preview-paragraph-${id}`}\n        >\n          {text}\n        </p>\n      );\n    });\n  }, [props.list, props.paragraph]);\n  return <div className={`${style.preview} ${cardStyle.card}`}>{text}</div>;\n}\n","import { h } from \"preact\";\nimport { useContext } from \"preact/hooks\";\nimport { AddButton } from \"./add_button/addButton\";\nimport style from \"./editor.css\";\nimport { EditorContext } from \"./editorState\";\nimport { Paragraph } from \"./paragraph/paragraph\";\nimport Preview from \"./preview/preview\";\n\nexport function Editor() {\n  const { state } = useContext(EditorContext);\n  return (\n    <div className={style.editor}>\n      <div>\n        <ul>\n          {state.list.map((id, index) => {\n            const p = state.paragraphs[id];\n            return (\n              p && (\n                <Paragraph key={`paragraph-${p.id}`} id={p.id} index={index} />\n              )\n            );\n          })}\n          <li>\n            <AddButton />\n          </li>\n        </ul>\n      </div>\n      {state.showsPreview && (\n        <div>\n          <Preview list={state.list} paragraph={state.paragraphs} />\n        </div>\n      )}\n    </div>\n  );\n}\n","import { FunctionalComponent, h } from \"preact\";\nimport { Editor } from \"../../components/editor/editor\";\nimport style from \"./style.css\";\n\nconst Home: FunctionalComponent = () => {\n  return (\n    <div className={style.home}>\n      <Editor />\n    </div>\n  );\n};\n\nexport default Home;\n","import { FunctionalComponent, h } from \"preact\";\nimport { Link } from \"preact-router/match\";\nimport * as style from \"./style.css\";\n\nconst Notfound: FunctionalComponent = () => {\n  return (\n    <div className={style.notfound}>\n      <h1>Error 404</h1>\n      <p>That page doesn&apos;t exist.</p>\n      <Link href=\"/\">\n        <h4>Back to Home</h4>\n      </Link>\n    </div>\n  );\n};\n\nexport default Notfound;\n","import { h } from \"preact\";\n\nexport function PreviewIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      enableBackground=\"new 0 0 24 24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n    >\n      <g>\n        <path d=\"M19,3H5C3.89,3,3,3.9,3,5v14c0,1.1,0.89,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.11,3,19,3z M19,19H5V7h14V19z M13.5,13 c0,0.83-0.67,1.5-1.5,1.5s-1.5-0.67-1.5-1.5c0-0.83,0.67-1.5,1.5-1.5S13.5,12.17,13.5,13z M12,9c-2.73,0-5.06,1.66-6,4 c0.94,2.34,3.27,4,6,4s5.06-1.66,6-4C17.06,10.66,14.73,9,12,9z M12,15.5c-1.38,0-2.5-1.12-2.5-2.5c0-1.38,1.12-2.5,2.5-2.5 c1.38,0,2.5,1.12,2.5,2.5C14.5,14.38,13.38,15.5,12,15.5z\" />\n      </g>\n    </svg>\n  );\n}\n","import { h } from \"preact\";\n\nexport function SortIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n    >\n      <path d=\"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z\" />\n    </svg>\n  );\n}\n","import { FunctionalComponent, h } from \"preact\";\nimport { useCallback, useContext } from \"preact/hooks\";\nimport {\n  EditorContext,\n  togglePreview,\n  toggleSort,\n} from \"../editor/editorState\";\nimport { PreviewIcon } from \"./previewIcon\";\nimport { SortIcon } from \"./sortIcon\";\nimport style from \"./style.css\";\n\nconst Header: FunctionalComponent = () => {\n  const { dispatch } = useContext(EditorContext);\n  const onToggleSort = useCallback((e: MouseEvent) => {\n    e.preventDefault();\n    dispatch(toggleSort());\n  }, []);\n  const onTogglePreview = useCallback((e: MouseEvent) => {\n    e.preventDefault();\n    dispatch(togglePreview());\n  }, []);\n  return (\n    <header className={style.header}>\n      <h1>段落エディター</h1>\n      <nav>\n        <a onClick={onToggleSort}>\n          <SortIcon />\n          <span>並び替え</span>\n        </a>\n        <a onClick={onTogglePreview}>\n          <PreviewIcon />\n          <span>プレビュー</span>\n        </a>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import { FunctionalComponent, h } from \"preact\";\nimport { Route, Router, RouterOnChangeArgs } from \"preact-router\";\nimport {\n  useCallback,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n} from \"preact/hooks\";\nimport Home from \"../routes/home\";\nimport NotFoundPage from \"../routes/notfound\";\nimport {\n  EditorContext,\n  editorReducer,\n  loadEditorState,\n  saveEditorState,\n} from \"./editor/editorState\";\nimport Header from \"./header\";\n\nconst App: FunctionalComponent = () => {\n  const currentUrl = useRef(\"\");\n  const handleRoute = useCallback((e: RouterOnChangeArgs) => {\n    currentUrl.current = e.url;\n  }, []);\n\n  const [state, dispatch] = useReducer(editorReducer, undefined, () =>\n    loadEditorState()\n  );\n  useEffect(() => {\n    saveEditorState(state);\n  }, [state]);\n  const contextValue = useMemo(() => ({ state, dispatch }), [state, dispatch]);\n  return (\n    <div id=\"app\">\n      <EditorContext.Provider value={contextValue}>\n        <Header />\n        <Router onChange={handleRoute}>\n          <Route path=\"/\" component={Home} />\n          <NotFoundPage default />\n        </Router>\n      </EditorContext.Provider>\n    </div>\n  );\n};\n\nexport default App;\n","import \"./style/index.css\";\nimport App from \"./components/app.tsx\";\n\nexport default App;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"btn__ove9P\",\"btn-icon\":\"btn-icon__3KkgF\",\"btn-primary\":\"btn-primary__1R6Z0\"};","\nconst EMPTY = {};\n\nexport function assign(obj, props) {\n\t// eslint-disable-next-line guard-for-in\n\tfor (let i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\nexport function exec(url, route, opts) {\n\tlet reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t\tc = url.match(reg),\n\t\tmatches = {},\n\t\tret;\n\tif (c && c[1]) {\n\t\tlet p = c[1].split('&');\n\t\tfor (let i=0; i<p.length; i++) {\n\t\t\tlet r = p[i].split('=');\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(r.slice(1).join('='));\n\t\t}\n\t}\n\turl = segmentize(url.replace(reg, ''));\n\troute = segmentize(route || '');\n\tlet max = Math.max(url.length, route.length);\n\tfor (let i=0; i<max; i++) {\n\t\tif (route[i] && route[i].charAt(0)===':') {\n\t\t\tlet param = route[i].replace(/(^:|[+*?]+$)/g, ''),\n\t\t\t\tflags = (route[i].match(/[+*?]+$/) || EMPTY)[0] || '',\n\t\t\t\tplus = ~flags.indexOf('+'),\n\t\t\t\tstar = ~flags.indexOf('*'),\n\t\t\t\tval = url[i] || '';\n\t\t\tif (!val && !star && (flags.indexOf('?')<0 || plus)) {\n\t\t\t\tret = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val);\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = url.slice(i).map(decodeURIComponent).join('/');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if (route[i]!==url[i]) {\n\t\t\tret = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (opts.default!==true && ret===false) return false;\n\treturn matches;\n}\n\nexport function pathRankSort(a, b) {\n\treturn (\n\t\t(a.rank < b.rank) ? 1 :\n\t\t\t(a.rank > b.rank) ? -1 :\n\t\t\t\t(a.index - b.index)\n\t);\n}\n\n// filter out VNodes without attributes (which are unrankeable), and add `index`/`rank` properties to be used in sorting.\nexport function prepareVNodeForRanking(vnode, index) {\n\tvnode.index = index;\n\tvnode.rank = rankChild(vnode);\n\treturn vnode.props;\n}\n\nexport function segmentize(url) {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '').split('/');\n}\n\nexport function rankSegment(segment) {\n\treturn segment.charAt(0)==':' ? (1 + '*+?'.indexOf(segment.charAt(segment.length-1))) || 4 : 5;\n}\n\nexport function rank(path) {\n\treturn segmentize(path).map(rankSegment).join('');\n}\n\nfunction rankChild(vnode) {\n\treturn vnode.props.default ? 0 : rank(vnode.props.path);\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notfound\":\"notfound__25Mra\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"editor__1I80g\"};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.Link = exports.Match = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _preact = require('preact');\n\nvar _preactRouter = require('preact-router');\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Match = exports.Match = function (_Component) {\n\t_inherits(Match, _Component);\n\n\tfunction Match() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Match);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.update = function (url) {\n\t\t\t_this.nextUrl = url;\n\t\t\t_this.setState({});\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\tMatch.prototype.componentDidMount = function componentDidMount() {\n\t\t_preactRouter.subscribers.push(this.update);\n\t};\n\n\tMatch.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\t_preactRouter.subscribers.splice(_preactRouter.subscribers.indexOf(this.update) >>> 0, 1);\n\t};\n\n\tMatch.prototype.render = function render(props) {\n\t\tvar url = this.nextUrl || (0, _preactRouter.getCurrentUrl)(),\n\t\t    path = url.replace(/\\?.+$/, '');\n\t\tthis.nextUrl = null;\n\t\treturn props.children({\n\t\t\turl: url,\n\t\t\tpath: path,\n\t\t\tmatches: (0, _preactRouter.exec)(path, props.path, {}) !== false\n\t\t});\n\t};\n\n\treturn Match;\n}(_preact.Component);\n\nvar Link = function Link(_ref) {\n\tvar activeClassName = _ref.activeClassName,\n\t    path = _ref.path,\n\t    props = _objectWithoutProperties(_ref, ['activeClassName', 'path']);\n\n\treturn (0, _preact.h)(\n\t\tMatch,\n\t\t{ path: path || props.href },\n\t\tfunction (_ref2) {\n\t\t\tvar matches = _ref2.matches;\n\t\t\treturn (0, _preact.h)(_preactRouter.Link, _extends({}, props, { 'class': [props.class || props.className, matches && activeClassName].filter(Boolean).join(' ') }));\n\t\t}\n\t);\n};\n\nexports.Link = Link;\nexports.default = Match;\n\nMatch.Link = Link;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"japanese-text\":\"japanese-text__1TNcs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header__3ax1h\",\"active\":\"active__2XB2z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preview\":\"preview__2K3aJ\"};"],"sourceRoot":""}